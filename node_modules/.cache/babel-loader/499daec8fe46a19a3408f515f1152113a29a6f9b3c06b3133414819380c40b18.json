{"ast":null,"code":"import s from\"./Dialogs.module.css\";import{Navigate}from\"react-router-dom\";import DialogItem from\"./DialogItem.js/DialogItex\";import Message from\"./Message/Meesage\";import{Field,reduxForm}from\"redux-form\";import{maxLengthCreator,requiredField}from\"../../utils/validation/Validator\";import{Textarea}from\"../common/FormControls/FormsControls\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dialogs=function Dialogs(props){var dialogsElements=props.messagesPage.dials.map(function(elem){return/*#__PURE__*/_jsx(DialogItem,{name:elem.name,id:elem.id});});var messageElements=props.messagesPage.messages.map(function(elem){return/*#__PURE__*/_jsx(Message,{message:elem.message});});var addNewMessage=function addNewMessage(values){props.sendMessageClick(values.newMessageBody);};if(!props.isAuth)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});return/*#__PURE__*/_jsxs(\"div\",{className:s.dialogs,children:[/*#__PURE__*/_jsx(\"div\",{className:s.dialogItems,children:dialogsElements}),/*#__PURE__*/_jsxs(\"div\",{className:s.messages,children:[/*#__PURE__*/_jsx(\"div\",{children:messageElements}),/*#__PURE__*/_jsx(AddMessageReduxForm,{onSubmit:addNewMessage})]})]});};var maxLength50=maxLengthCreator(50);var AddMessageForm=function AddMessageForm(props){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:props.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Field,{component:Textarea,name:\"newMessageBody\",validate:[requiredField,maxLength50],placeholder:\"Enter Your Message\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"Send\"})})]});};var AddMessageReduxForm=reduxForm({form:\"dialogAddMessageForm\"})(AddMessageForm);export default Dialogs;","map":{"version":3,"names":["s","Navigate","DialogItem","Message","Field","reduxForm","maxLengthCreator","requiredField","Textarea","Dialogs","props","dialogsElements","messagesPage","dials","map","elem","name","id","messageElements","messages","message","addNewMessage","values","sendMessageClick","newMessageBody","isAuth","dialogs","dialogItems","maxLength50","AddMessageForm","handleSubmit","AddMessageReduxForm","form"],"sources":["/Users/uvixmi/social-network/src/components/Dialogs/Dialogs.jsx"],"sourcesContent":["import s from \"./Dialogs.module.css\"\nimport { Navigate } from \"react-router-dom\"\nimport DialogItem from \"./DialogItem.js/DialogItex\"\nimport Message from \"./Message/Meesage\"\nimport { Field, reduxForm } from \"redux-form\"\nimport {\n  maxLengthCreator,\n  requiredField,\n} from \"../../utils/validation/Validator\"\nimport { Textarea } from \"../common/FormControls/FormsControls\"\n\nconst Dialogs = (props) => {\n  let dialogsElements = props.messagesPage.dials.map((elem) => (\n    <DialogItem name={elem.name} id={elem.id} />\n  ))\n  let messageElements = props.messagesPage.messages.map((elem) => (\n    <Message message={elem.message} />\n  ))\n\n  let addNewMessage = (values) => {\n    props.sendMessageClick(values.newMessageBody)\n  }\n\n  if (!props.isAuth) return <Navigate to=\"/login\" />\n  return (\n    <div className={s.dialogs}>\n      <div className={s.dialogItems}>{dialogsElements}</div>\n      <div className={s.messages}>\n        <div>{messageElements}</div>\n        <AddMessageReduxForm onSubmit={addNewMessage} />\n      </div>\n    </div>\n  )\n}\n\nconst maxLength50 = maxLengthCreator(50)\n\nconst AddMessageForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          component={Textarea}\n          name=\"newMessageBody\"\n          validate={[requiredField, maxLength50]}\n          placeholder=\"Enter Your Message\"\n        ></Field>\n      </div>\n      <div>\n        <button>Send</button>\n      </div>\n    </form>\n  )\n}\nconst AddMessageReduxForm = reduxForm({ form: \"dialogAddMessageForm\" })(\n  AddMessageForm\n)\n\nexport default Dialogs\n"],"mappings":"AAAA,MAAOA,EAAC,KAAM,sBAAsB,CACpC,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAOC,WAAU,KAAM,4BAA4B,CACnD,MAAOC,QAAO,KAAM,mBAAmB,CACvC,OAASC,KAAK,CAAEC,SAAS,KAAQ,YAAY,CAC7C,OACEC,gBAAgB,CAChBC,aAAa,KACR,kCAAkC,CACzC,OAASC,QAAQ,KAAQ,sCAAsC,yFAE/D,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAK,CACzB,GAAIC,gBAAe,CAAGD,KAAK,CAACE,YAAY,CAACC,KAAK,CAACC,GAAG,CAAC,SAACC,IAAI,qBACtD,KAAC,UAAU,EAAC,IAAI,CAAEA,IAAI,CAACC,IAAK,CAAC,EAAE,CAAED,IAAI,CAACE,EAAG,EAAG,EAC7C,CAAC,CACF,GAAIC,gBAAe,CAAGR,KAAK,CAACE,YAAY,CAACO,QAAQ,CAACL,GAAG,CAAC,SAACC,IAAI,qBACzD,KAAC,OAAO,EAAC,OAAO,CAAEA,IAAI,CAACK,OAAQ,EAAG,EACnC,CAAC,CAEF,GAAIC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,MAAM,CAAK,CAC9BZ,KAAK,CAACa,gBAAgB,CAACD,MAAM,CAACE,cAAc,CAAC,CAC/C,CAAC,CAED,GAAI,CAACd,KAAK,CAACe,MAAM,CAAE,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAC,QAAQ,EAAG,CAClD,mBACE,aAAK,SAAS,CAAEzB,CAAC,CAAC0B,OAAQ,wBACxB,YAAK,SAAS,CAAE1B,CAAC,CAAC2B,WAAY,UAAEhB,eAAe,EAAO,cACtD,aAAK,SAAS,CAAEX,CAAC,CAACmB,QAAS,wBACzB,qBAAMD,eAAe,EAAO,cAC5B,KAAC,mBAAmB,EAAC,QAAQ,CAAEG,aAAc,EAAG,GAC5C,GACF,CAEV,CAAC,CAED,GAAMO,YAAW,CAAGtB,gBAAgB,CAAC,EAAE,CAAC,CAExC,GAAMuB,eAAc,CAAG,QAAjBA,eAAc,CAAInB,KAAK,CAAK,CAChC,mBACE,cAAM,QAAQ,CAAEA,KAAK,CAACoB,YAAa,wBACjC,kCACE,KAAC,KAAK,EACJ,SAAS,CAAEtB,QAAS,CACpB,IAAI,CAAC,gBAAgB,CACrB,QAAQ,CAAE,CAACD,aAAa,CAAEqB,WAAW,CAAE,CACvC,WAAW,CAAC,oBAAoB,EACzB,EACL,cACN,kCACE,wBAAQ,MAAI,EAAS,EACjB,GACD,CAEX,CAAC,CACD,GAAMG,oBAAmB,CAAG1B,SAAS,CAAC,CAAE2B,IAAI,CAAE,sBAAuB,CAAC,CAAC,CACrEH,cAAc,CACf,CAED,cAAepB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}