{"ast":null,"code":"import { userAPI, profileAPI } from \"../api/api\";\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\nlet initialState = {\n  posts: [{\n    message: \"Post 1\",\n    likesсount: 2\n  }, {\n    message: \"Post 1\",\n    likesсount: 4\n  }, {\n    message: \"Post 1\",\n    likesсount: 37\n  }, {\n    message: \"Post 1\",\n    likesсount: 21\n  }, {\n    message: \"Post 1\",\n    likesсount: 22\n  }],\n  profile: null,\n  status: \"\"\n};\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let newPost = {\n          id: 3423,\n          message: action.newPost,\n          likesсount: 0\n        };\n        return {\n          ...state,\n          posts: [...state.posts, newPost],\n          newPostText: \"\"\n        };\n      }\n    case SET_USER_PROFILE:\n      {\n        return {\n          ...state,\n          profile: action.profile\n        };\n      }\n    case SET_STATUS:\n      {\n        return {\n          ...state,\n          status: action.status\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport const addPostActionCreator = newPost => {\n  return {\n    type: ADD_POST,\n    newPost: newPost\n  };\n};\nexport const setUserProfile = profile => ({\n  type: SET_USER_PROFILE,\n  profile\n});\nexport const getUserProfile = userId => async dispatch => {\n  let response = await userAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n};\nexport const getStatus = userId => async dispatch => {\n  let response = profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\nexport const updateStatus = status => async dispatch => {\n  let response = await profileAPI.updateStatus(status);\n  if (response.data.resultCode === 0) dispatch(setStatus(status));\n};\nexport default profileReducer;","map":{"version":3,"names":["userAPI","profileAPI","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","message","likesсount","profile","status","profileReducer","state","action","type","newPost","id","newPostText","addPostActionCreator","setUserProfile","getUserProfile","userId","dispatch","response","getProfile","data","getStatus","setStatus","updateStatus","resultCode"],"sources":["/Users/uvixmi/social-network/src/redux/profile_reducer.js"],"sourcesContent":["import { userAPI, profileAPI } from \"../api/api\"\n\nconst ADD_POST = \"ADD-POST\"\n\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\nconst SET_STATUS = \"SET_STATUS\"\nlet initialState = {\n  posts: [\n    { message: \"Post 1\", likesсount: 2 },\n    { message: \"Post 1\", likesсount: 4 },\n    { message: \"Post 1\", likesсount: 37 },\n    { message: \"Post 1\", likesсount: 21 },\n    { message: \"Post 1\", likesсount: 22 },\n  ],\n\n  profile: null,\n  status: \"\",\n}\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: {\n      let newPost = {\n        id: 3423,\n        message: action.newPost,\n        likesсount: 0,\n      }\n\n      return { ...state, posts: [...state.posts, newPost], newPostText: \"\" }\n    }\n\n    case SET_USER_PROFILE: {\n      return { ...state, profile: action.profile }\n    }\n    case SET_STATUS: {\n      return { ...state, status: action.status }\n    }\n\n    default:\n      return state\n  }\n}\n\nexport const addPostActionCreator = (newPost) => {\n  return {\n    type: ADD_POST,\n    newPost: newPost,\n  }\n}\n\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  let response = await userAPI.getProfile(userId)\n  dispatch(setUserProfile(response.data))\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n  let response = profileAPI.getStatus(userId)\n  dispatch(setStatus(response.data))\n}\n\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\n\nexport const updateStatus = (status) => async (dispatch) => {\n  let response = await profileAPI.updateStatus(status)\n  if (response.data.resultCode === 0) dispatch(setStatus(status))\n}\n\nexport default profileReducer\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,UAAU,QAAQ,YAAY;AAEhD,MAAMC,QAAQ,GAAG,UAAU;AAE3B,MAAMC,gBAAgB,GAAG,kBAAkB;AAC3C,MAAMC,UAAU,GAAG,YAAY;AAC/B,IAAIC,YAAY,GAAG;EACjBC,KAAK,EAAE,CACL;IAAEC,OAAO,EAAE,QAAQ;IAAEC,UAAU,EAAE;EAAE,CAAC,EACpC;IAAED,OAAO,EAAE,QAAQ;IAAEC,UAAU,EAAE;EAAE,CAAC,EACpC;IAAED,OAAO,EAAE,QAAQ;IAAEC,UAAU,EAAE;EAAG,CAAC,EACrC;IAAED,OAAO,EAAE,QAAQ;IAAEC,UAAU,EAAE;EAAG,CAAC,EACrC;IAAED,OAAO,EAAE,QAAQ;IAAEC,UAAU,EAAE;EAAG,CAAC,CACtC;EAEDC,OAAO,EAAE,IAAI;EACbC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,cAAc,GAAG,YAAkC;EAAA,IAAjCC,KAAK,uEAAGP,YAAY;EAAA,IAAEQ,MAAM;EAClD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKZ,QAAQ;MAAE;QACb,IAAIa,OAAO,GAAG;UACZC,EAAE,EAAE,IAAI;UACRT,OAAO,EAAEM,MAAM,CAACE,OAAO;UACvBP,UAAU,EAAE;QACd,CAAC;QAED,OAAO;UAAE,GAAGI,KAAK;UAAEN,KAAK,EAAE,CAAC,GAAGM,KAAK,CAACN,KAAK,EAAES,OAAO,CAAC;UAAEE,WAAW,EAAE;QAAG,CAAC;MACxE;IAEA,KAAKd,gBAAgB;MAAE;QACrB,OAAO;UAAE,GAAGS,KAAK;UAAEH,OAAO,EAAEI,MAAM,CAACJ;QAAQ,CAAC;MAC9C;IACA,KAAKL,UAAU;MAAE;QACf,OAAO;UAAE,GAAGQ,KAAK;UAAEF,MAAM,EAAEG,MAAM,CAACH;QAAO,CAAC;MAC5C;IAEA;MACE,OAAOE,KAAK;EAAA;AAElB,CAAC;AAED,OAAO,MAAMM,oBAAoB,GAAIH,OAAO,IAAK;EAC/C,OAAO;IACLD,IAAI,EAAEZ,QAAQ;IACda,OAAO,EAAEA;EACX,CAAC;AACH,CAAC;AAED,OAAO,MAAMI,cAAc,GAAIV,OAAO,KAAM;EAAEK,IAAI,EAAEX,gBAAgB;EAAEM;AAAQ,CAAC,CAAC;AAEhF,OAAO,MAAMW,cAAc,GAAIC,MAAM,IAAK,MAAOC,QAAQ,IAAK;EAC5D,IAAIC,QAAQ,GAAG,MAAMvB,OAAO,CAACwB,UAAU,CAACH,MAAM,CAAC;EAC/CC,QAAQ,CAACH,cAAc,CAACI,QAAQ,CAACE,IAAI,CAAC,CAAC;AACzC,CAAC;AAED,OAAO,MAAMC,SAAS,GAAIL,MAAM,IAAK,MAAOC,QAAQ,IAAK;EACvD,IAAIC,QAAQ,GAAGtB,UAAU,CAACyB,SAAS,CAACL,MAAM,CAAC;EAC3CC,QAAQ,CAACK,SAAS,CAACJ,QAAQ,CAACE,IAAI,CAAC,CAAC;AACpC,CAAC;AAED,OAAO,MAAME,SAAS,GAAIjB,MAAM,KAAM;EAAEI,IAAI,EAAEV,UAAU;EAAEM;AAAO,CAAC,CAAC;AAEnE,OAAO,MAAMkB,YAAY,GAAIlB,MAAM,IAAK,MAAOY,QAAQ,IAAK;EAC1D,IAAIC,QAAQ,GAAG,MAAMtB,UAAU,CAAC2B,YAAY,CAAClB,MAAM,CAAC;EACpD,IAAIa,QAAQ,CAACE,IAAI,CAACI,UAAU,KAAK,CAAC,EAAEP,QAAQ,CAACK,SAAS,CAACjB,MAAM,CAAC,CAAC;AACjE,CAAC;AAED,eAAeC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}